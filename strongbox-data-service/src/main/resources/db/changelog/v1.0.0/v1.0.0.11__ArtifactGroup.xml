<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:o="http://www.unbroken-dome.org/schema/liquibase-orientdb"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.2.xsd">

    <changeSet id="v1.0.0.11" author="przemyslaw.fusik@gmail.com">

        <o:createClass name="ArtifactGroupIdentifier" extends="GenericEntity"/>

        <o:createClass name="MavenArtifactGroupIdentifier" extends="ArtifactGroupIdentifier">
            <o:property name="artifactId" type="string" />
            <o:property name="groupId" type="string" />
            <o:property name="version" type="string" />
        </o:createClass>

        <o:createIndex name="idx_maven_artifact_group_identifier" on="MavenArtifactGroupIdentifier" property="artifactId groupId version" type="unique" />

        <o:createClass name="ArtifactGroup" extends="GenericEntity">
            <o:property name="groupIdentifier" type="link" linkedType="AbstractArtifactCoordinates" />
        </o:createClass>

        <o:createIndex name="idx_artifact" on="ArtifactGroup" property="groupIdentifier" type="unique" />

        <o:createProperty name="artifactGroup" type="link" linkedType="ArtifactGroup" className="ArtifactEntry"/>

        <customChange class="org.carlspring.strongbox.liquibase.change.custom.MavenArtifactGroupCreationLiquibaseTaskChange"/>

    </changeSet>

</databaseChangeLog>
